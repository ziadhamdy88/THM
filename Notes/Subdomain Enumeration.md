- The process of finding valid subdomains for a domain to expand our attack surface and discover more potential points of vulnerability.
- Three types
	- **Brute-Force**
	- **OSINT**
	- **Virtual Hosts**
- ## *Burte-Force*
	- Bruteforce DNS (Domain Name System) enumeration is the method of trying tens, hundreds, thousands or even millions of different possible subdomains from a pre-defined list of commonly used subdomains.
	- Because this method requires many requests, we automate it with tools to make the process quicker.
- ## *OSINT*
	- #### *SSL/TLS Certificates*
		- When an SSL/TLS certificate is created for a domain by a CA (Certificate Authority), CA's take part in what's called "Certificate Transparency (CT) logs".
		- These are publicly accessible logs of every SSL/TLS certificate created for a domain name.
		- The purpose of Certificate Transparency logs is to stop malicious and accidentally made certificates from being used. 
		- We can use this service to our advantage to discover subdomains belonging to a domain, sites like [crt.sh](http://crt.sh) and [ctsearchui](https://ui.ctsearch.entrust.com/ui/ctsearchui) offer a searchable database of certificates that shows current and historical results.
	- #### *Search Engines*
		- Search engines contain trillions of links to more than a billion websites, which can be an excellent resource for finding new subdomains.
		- Using advanced search methods on websites like Google, such as the site: filter, can narrow the search results. 
		- For example, `-site:www.domain.com site:*.domain.com` would only contain results leading to the domain name domain.com but exclude any links to `www.domain.com`; therefore, it shows us only subdomain names belonging to domain.com.
	- #### *Sublist3r*
		- To speed up the process of OSINT subdomain discovery, we can automate the above methods with the help of tools like [Sublist3r](https://github.com/aboul3la/Sublist3r).
		- `./sublist3r.py -d <domain>`
- ## *Virtual Hosts*
	- Some subdomains aren't always hosted in publicly accessible DNS results, such as development versions of a web application or administration portals.
	- Instead, the DNS record could be kept on a private DNS server or recorded on the developer's machines in their `/etc/hosts` file.
	- Because web servers can host multiple websites from one server when a website is requested from a client, the server knows which website the client wants from the **Host** header. 
	- We can utilize this host header by making changes to it and monitoring the response to see if we've discovered a new website.
	- #### *Automating with ffuf*
		- `ffuf -w /usr/share/wordlists/SecLists/Discovery/DNS/namelist.txt -H "Host: FUZZ.<domain>" -u <url>`.
		- This would always produce valid results, but we can use it to determine the common size to filter by.
		- Then use `ffuf -w /usr/share/wordlists/SecLists/Discovery/DNS/namelist.txt -H "Host: FUZZ.acmeitsupport.thm" -u http://10.10.218.40 -fs <size>`.
		- 