- ## *Writing a Convincing Phishing Email*
	- Requires 3 things to work
		- **The sender's email address**
			- Sender's email address would be from a domain name that spoofs a significant brand, a known contact, or a coworker.
			- Employ OSINT to gather information on the target
				- Observing their social media accounts for any brands or friends
				- Searching Google for target's name and rough location for any reviews about local businesses or brands.
				- Looking at the target's business website to find suppliers.
				- Looking at the LinkedIn to find the target's coworkers
		- **The subject**
			- Set the subject to something quite urgent, worrying, or important to the target so that they act quickly.
			- For example
				- Your account has been compromised
				- Your package has been dispatched/shipped
				- Staff payroll information (do not forward!)
				- Your photos have been published
		- **The content**
			- If impersonating a brand, research that brand for their standard template for emails and branding (style, logos, signoffs, etc..) and make the content look similar as theirs.
			- If impersonating a contact or coworker, contact them first, they may have some branding in their template, have a particular email signature or even something small such as how they refer to themselves.
			- If you have set up a spoof website to harvest data or distribute malware, the links should be disguised using the anchor text and changing it to something else like `<a href="http://spoofsite.thm">https://onlinebank.thm</a>`.
- ## *Phishing Infrastructure*
	- **Domain Name**
		- Register an authentic-looking domain name or one that mimics the identity of another domain.
	- **SSL/TLS Certificate**
		- Creating SSL/TLS certificates for the chosen domain name will add an extra layer of authenticity to the attack.
	- **Email Server/Account**
		- Set up an email server or register with an SMTP email provider.
	- **DNS Records**
		- Setting up DNS records with SPF, DKIM, DMARC will improve the deliverability of the emails and make sure they are getting into the inbox rather than the spam folder.
	- **Web Server**
		- Set up web servers or purchase web hosting from a company to host the phishing websites. Adding SSL/TLS to the websites will give them an extra layer of authenticity.
	- **Analytics**
		- When phishing campaigns is part of a red team engagement, keeping analytics information is more important.
		- Need something to keep track of the emails that have been sent, opened or clicked. Also need to combine it with information from the phishing websites from which users have supplied personal information or downloaded software.
	- ### *Automation and Useful Software*
		- Some of the above infrastructure can be quickly automated using these tools.
		- **GoPhish (Open Source)**
			- Web-based framework to make setting up phishing campaigns more straightforward.
			- Allows you to store your SMTP server settings for sending emails, has a web-based tool for creating email templates using a simple WYSIWYG (What You See Is What You Get) editor. Can also schedule when emails are sent and have an analytics dashboard that shows how many emails have been sent, opened, or clicked.
		- **SET (Social Engineering Toolkit)**
			- Contains a multitude of tools, such as spear-phishing and deploying fake versions of common websites to trick victims into entering their credentials.
- ## *Droppers*
	- Software that phishing victims tend to be tricked into downloading and running on their system.
	- The dropper may advertise itself as something useful or legitimate such as a codec to view a certain video or software to open a specific file.
	- The droppers are not usually malicious themselves, so they tend to pass antivirus checks. Once installed, the intended malware is either unpacked or downloaded from a server and installed on the victim's computer. The malicious software usually connects back to the attacker's infrastructure. 
- ## *Choosing a Phishing Domain*
	- Choosing the right phishing domain to launch the attack is essential.
	- **Expired Domains**
		- Buying domain names with some history could lead to a better scoring of your domain when it comes to spam filters.
	- **Typosquatting**
		- Typosquatting is when a registered domain looks very similar to the target domain you're trying to impersonate.
		- Misspelling: goggle.com vs google.com
		- Additional period: go.ogle.com vs google.com
		- Switching numbers for letters: g00gle.com vs google.com
		- Phrasing: googles.com vs google.com
		- Additional word: googleresults.com vs google.com
	- **TLD Alternatives**
		- A TLD is the .com, .net, .co, .uk, .org, .gov, etc.. part of a domain, there are 100's of variants of TLD's now.
		- A common trick for choosing a domain would be to use the same name but with a different TLD, for example, `tryhackme.co.uk` to impersonate `tryhackme.com`.
	- **IDN Homograph Attack/Script Spoofing**
		- Originally, domains where made up of Latin characters a-z and 0-9, but IDN (Internationalized Domain Name) was implemented to support language-specific script or alphabet from other languages such as Arabic, Chinese, Hebrew, and more.
		- Different letters from different languages can actually appear identical. For example, Unicode character `U+0430` (Cyrillic small letter a) looks identical to Unicode character `U+0061` (Latin small letter a) used in English.
		- This enables attackers to register a domain name that looks almost identical to another.
- ## *Using MS Office In Phishing*
	- Typically, an attachment  would be included such as a .docx, .xlsx, .ppt, etc.. these Office documents could contain macros that can be used to run computer commands that can cause malware to be installed or connect back to the attacker's network.
- ## *Using Browser Exploits*
	- When there is a vulnerability against the browser itself, which allows the attacker to run remote commands on the victim's computer.
	- This isn't a common path for red team engagements unless you have prior knowledge of old technology being used on-site.
	- It can happen because because possible the browser software cannot be updated due to incompatibility with commercial software/hardware.
	- 